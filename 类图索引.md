# 质检工具系统 - 类图索引

本文档提供质检工具系统所有类图的快速索引和导航。

## 📁 类图文件位置

所有类图文件位于：`类图文件/` 目录

## 📋 类图模块总览

### 1. 用户管理模块 [`01_用户管理模块.drawio`](类图文件/01_用户管理模块.drawio)

**核心类：**
- `LoginForm` - 用户登录窗体
- `ResignForm` - 用户注册窗体
- `LicenseForm` - 用户许可窗体
- `UserBean` - 用户实体类
- `GetUser` - 用户数据访问类
- `SQLiteHelper` - 数据库操作辅助类

**核心功能：**
- 用户注册与账号验证
- 用户登录与记住密码
- 软件授权验证与机器码管理

---

### 2. 主页展示模块 [`02_主页展示模块.drawio`](类图文件/02_主页展示模块.drawio)

**核心类：**
- `Rib` - 主界面类
- `FirstLevelMenuFunc` - 一级菜单功能类
- `InitializeFunc` - 系统初始化类
- `TourPopover` - 引导教程类

**核心功能：**
- 主界面布局与Ribbon菜单
- ArcGIS地图控件动态加载
- 菜单树形结构管理
- 新手引导教程

---

### 3. 质检工具模块 [`03_质检工具模块.drawio`](类图文件/03_质检工具模块.drawio)

**核心类：**
- `ToolForm` - 工具窗体类
- `MenuBean` - 菜单实体类
- `ToolArgs` - 工具参数类
- `MenuBeanFunc` - 菜单功能处理类
- `MenuSearchFunc2` - 工具搜索类
- `csvFunc` - CSV配置读取类

**核心功能：**
- 工具窗体动态生成
- 工具参数配置与管理
- 工具搜索与筛选
- CSV配置文件解析

---

### 4. 质检任务模块 [`04_质检任务模块.drawio`](类图文件/04_质检任务模块.drawio)

**核心类：**
- `GpTaskFunc` - 任务管理类
- `GpBean` - 任务实体类
- `MainLogForm` - 运行日志窗体
- `LogHelper` - 日志工具类
- `DefaultTaskInitializer` - 任务初始化类

**核心功能：**
- 任务添加、删除、排序
- 任务批量执行与分步执行
- 任务状态管理
- 运行日志记录与显示

---

### 5. 参数配置模块 [`05_参数配置模块.drawio`](类图文件/05_参数配置模块.drawio)

**核心类：**
- `SettingForm` - 设置窗体类
- `IniFunc` - INI配置文件管理类
- `ThemeColor` - 主题颜色管理类
- `SelectFileFunc` - 文件选择类
- `globalpara` - 全局参数类

**核心功能：**
- 软件主题颜色切换
- 工具资源路径配置
- 全局参数管理

---

### 6. 其他工具模块 [`06_其他工具模块.drawio`](类图文件/06_其他工具模块.drawio)

**核心类：**
- `UpdateInfoForm` - 软件信息窗体
- `TableForm` - 模板下载/标准查阅窗体
- `JTGJ` - 截图工具类
- `AuthManger` - 授权管理类
- `GpFunc` - GP工具执行类
- `DynamicTool` - 动态控件生成类
- `GetNowTime` - 时间工具类

**核心功能：**
- 软件版本信息展示
- 模板文件批量下载
- 标准文档查阅
- 屏幕截图功能
- GP工具执行与参数构建

---

### 7. 规则配置模块 [`07_规则配置模块.drawio`](类图文件/07_规则配置模块.drawio)

**核心类：**
- `DatabaseStructureForm` - 数据库结构配置窗体
- `DatabaseCreationForm` - 数据库建立窗体
- `TopologyRuleForm` - 拓扑规则配置窗体
- `ValueDictionaryForm` - 赋值词典配置窗体
- `GDB_Func` - 地理数据库操作类
- `TopologyFunc` - 拓扑操作类
- `FieldCalculator` - 字段计算类
- `FieldDef` - 字段定义实体类
- `TopologyRule` - 拓扑规则实体类

**核心功能：**
- 数据库结构模板设计
- 批量创建地理数据库和要素类
- 拓扑规则配置和验证
- 赋值词典管理和应用
- 字段批量计算

---

### 8. 帮助模块 [`08_帮助模块.drawio`](类图文件/08_帮助模块.drawio)

**核心类：**
- `GuideForm` - 引导窗体类
- `HelpDocForm` - 帮助文档窗体类
- `GuideStep` - 引导步骤实体类
- `SearchResult` - 搜索结果实体类
- `HelpDocManager` - 帮助文档管理类
- `GuideManager` - 引导管理类

**核心功能：**
- 新用户交互式引导教程
- 帮助文档浏览（HTML/PDF）
- 文档全文搜索
- 引导进度保存和恢复
- 帮助文档更新和导出

---

### 9. 工程项目管理模块 [`09_工程项目管理模块.drawio`](类图文件/09_工程项目管理模块.drawio) ⭐新增

**核心类：**
- `ProjectManager` - 工程项目管理类
- `TaskListManager` - 任务列表管理类
- `MapDocManager` - 地图文档管理类
- `ProjectConfigManager` - 工程配置管理类
- `SelectFileFunc` - 文件选择类
- `globalpara` - 全局参数类

**核心功能：**
- 工程文件保存与打开（.ini格式）
- 任务列表管理（保存/加载任务到CSV）
- 地图文档管理（保存/加载MXD地图文档）
- 工程配置管理（主题颜色、工具资源路径）
- 工程信息查看与验证
- 创建新工程与关闭工程

**说明：** 本模块从原"参数配置模块"中独立出来，专注于工程项目的整体管理功能。

---

## 📖 详细文档

### 主文档
- **[文档_类图说明.txt](文档_类图说明.txt)** - 包含所有类的详细方法说明
- **[文档.txt](文档.txt)** - 原始功能需求文档

### 快速链接
- [类图文件夹README](类图文件/README.md) - 类图使用说明

---

## 🔍 按功能查找类

### 用户认证相关
- `LoginForm` - 登录功能
- `ResignForm` - 注册功能
- `LicenseForm` - 授权验证
- `AuthManger` - 授权管理

### 数据库操作相关
- `SQLiteHelper` - 数据库基础操作
- `GetUser` - 用户数据访问
- `IniFunc` - INI文件读写

### 界面相关
- `Rib` - 主界面
- `ToolForm` - 工具窗体
- `SettingForm` - 设置窗体
- `MainLogForm` - 日志窗体
- `TableForm` - 表格窗体
- `UpdateInfoForm` - 软件信息窗体

### 任务管理相关
- `GpTaskFunc` - 任务管理核心
- `GpBean` - 任务实体
- `DefaultTaskInitializer` - 默认任务初始化

### 工具执行相关
- `GpFunc` - GP工具执行
- `ToolArgs` - 工具参数
- `DynamicTool` - 动态控件生成

### 配置管理相关
- `globalpara` - 全局参数
- `IniFunc` - 配置文件管理
- `ThemeColor` - 主题管理

### 工程管理相关
- `ProjectManager` - 工程项目管理
- `TaskListManager` - 任务列表管理
- `MapDocManager` - 地图文档管理
- `ProjectConfigManager` - 工程配置管理

### 规则配置相关
- `DatabaseStructureForm` - 数据库结构配置
- `DatabaseCreationForm` - 数据库建立
- `TopologyRuleForm` - 拓扑规则配置
- `ValueDictionaryForm` - 赋值词典配置
- `GDB_Func` - 地理数据库操作
- `TopologyFunc` - 拓扑操作
- `FieldCalculator` - 字段计算

### 帮助相关
- `GuideForm` - 引导窗体
- `HelpDocForm` - 帮助文档窗体
- `GuideManager` - 引导管理
- `HelpDocManager` - 帮助文档管理

### 实用工具相关
- `LogHelper` - 日志记录
- `GetNowTime` - 时间工具
- `SelectFileFunc` - 文件选择
- `JTGJ` - 截图工具
- `csvFunc` - CSV处理

### 菜单相关
- `FirstLevelMenuFunc` - 一级菜单管理
- `MenuBeanFunc` - 菜单功能处理
- `MenuSearchFunc2` - 菜单搜索
- `MenuBean` - 菜单实体

---

## 🎨 如何查看类图

### 在线查看
1. 访问 https://app.diagrams.net/
2. 打开对应的 `.drawio` 文件
3. 可导出为PNG/SVG/PDF格式

### 离线查看
1. 下载 Draw.io Desktop：https://github.com/jgraph/drawio-desktop/releases
2. 安装后直接双击 `.drawio` 文件打开

---

## 💡 使用建议

1. **初次了解系统**：建议按照模块顺序（1→6）阅读类图和说明文档
2. **开发新功能**：查找相关功能的类，参考其设计和实现
3. **修复Bug**：通过类图了解类之间的依赖关系，定位问题
4. **代码重构**：参考类图优化类的职责划分

---

## 📝 类图图例说明

### 类框颜色
- 🔵 **蓝色** - 窗体类（继承自AntdUI.Window或Form）
- 🟡 **黄色** - 实体类/数据类（Bean、Entity）
- 🟢 **绿色** - 工具类/服务类（Utils、Service、Helper）
- 🟣 **紫色** - 枚举类（Enum）
- ⚪ **灰色** - 已废弃的类

### 关系箭头
- `----→` **虚线箭头** - 依赖关系（uses）
- `━━━▶` **实线箭头** - 继承关系（inherits）
- `◆━━━` **菱形箭头** - 组合关系（contains）

### 类成员标识
- `+` - public 公共成员
- `-` - private 私有成员
- `#` - protected 保护成员
- 斜体 - 抽象方法
- 下划线 - 静态成员

---

## 📌 重要说明

1. 类图基于当前代码生成，代码更新后可能需要同步更新类图
2. 部分辅助类和内部类未在类图中详细展示
3. 建议结合源代码、类图和文档说明一起学习
4. 所有类图文件可使用DrawIO编辑和维护

---

## 🔄 版本历史

- **v1.0** (2024) - 初始版本，包含6个核心模块的类图
- **v2.0** (2024) - 新增规则配置模块和帮助模块
- **v3.0** (2024) - 新增工程项目管理模块（从参数配置模块独立），完善工程管理功能

---

## 📧 联系方式

如有疑问或建议，请联系项目维护人员。

---

**最后更新时间：** 2024年
**文档版本：** v3.0
